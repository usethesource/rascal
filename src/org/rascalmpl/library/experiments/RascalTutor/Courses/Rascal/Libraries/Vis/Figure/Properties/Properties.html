<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: Generated by CourseCompiler at $2011-09-09T17:41:49.972+0200 ---->


<head>
<title>Rascal/Libraries/Vis/Figure/Properties</title>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Courses/Rascal/course.js"></script>
<link type="text/css" rel="stylesheet" href="prelude.css"/>

</head>
<body>
<a id="tutorAction" href="Courses/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a>
<div id="Name">
<span class="sectionHead">Name</span> <a href="/show?concept=Rascal">Rascal</a>/<a href="/show?concept=Rascal/Libraries">Libraries</a>/<a href="/show?concept=Rascal/Libraries/Vis">Vis</a>/<a href="/show?concept=Rascal/Libraries/Vis/Figure">Figure</a>/<a href="/show?concept=Rascal/Libraries/Vis/Figure/Properties">Properties</a>
</div>

<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="images/magnify.png">
    <input type="hidden" name="concept" value="Rascal/Libraries/Vis/Figure/Properties">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         
<div id="Types">
<span class="sectionHead">Types</span>  <ul><li> <code>FProperty</code></li>
<li> <code>alias FProperties = list[FProperty];</code></li>
<li> <code>alias computedInt = int();</code></li>
<li> <code>alias computedReal = real();</code></li>
<li> <code>alias computedNum = num();</code></li>
<li> <code>alias computedStr = str();</code></li>
<li> <code>alias computedColor = Color();</code></li>
</ul>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  <pre class="listing">data FProperty =
/* sizes */
   | size(num h, num v))           // 2D: minimal width and height
   | resizable(bool h, bool v)     // 2D: allow resizing
   | zoomable(bool h, bool v)      // 2D: allow zooming
   | aspectRatio(num r)            // Fixed aspect ratio
   | shrink(num h, num v)          // 2D: shrink relative to parent figure
   | grow(num h, num v)            // 2D: grwo relative to contained figure
   
/* composition */
   | align(num h, num v)	   // 2D: horizontal (0=left; 1=right) and
                                   //     vertical alignment (0=top,1=bottom)
   | gap(num h, num v)             // 2D: gap between figures
   | startGap(num h, num v)        // 2D: gap at begin of composition
   | endGap(num h, num v)          // 2D: gap at end of composition
   | justify(bool b)               // 2D: 
   | pos(num h, num v)             // ????????
   
/* line and border properties */
   | lineWidth(num w)	           // line width

   | lineColor(Color c)	           // line color
   | lineColor(str cname)          // named line color
   
   | fillColor(Color c)	           // fill color of shapes and text
   | fillColor(str cname)          // named fill color

   | lineStyle(str style)

/* shape properties */
   | shapeConnected()              // shapes consist of connected points
   | shapeClosed()    		   // closed shapes
   | shapeCurved()                 // use curves instead of straight lines
   
/* font and text properties */
   | font(str fname)               // named font
   | fontSize(int s)               // font size
   | fontColor(Color c)            // font color
   | fontColor(str cname)
   | textAngle(num a)              // text rotation
   
/* interaction properties */  
   | mouseOver(Figure fig)         // add figure when mouse is over current figure
   | onClick(bool() handler)       // callback to handle mouse clicks
   | onMouseMove(void (bool) handler) 
                                   // handler when mouse moved over figure
   | mouseOver(Figure over, Fproperties props...)
                                   // Show over when mouse is over current figure
   | onKey(bool (KeySym, bool, map[KeyModifier, bool]) handler)
                                   // handler for keyboard events
   
/* other properties */
   | id(str name)                  // name of figure (used in edges and various layouts)
   | hint(str name)                // hint for layout strategy: now only for graphs
   | layer(str id)                 // named layer in layered graph
   | dir(str s)                    // Drawing direction
   | toArrow(Figure f)             // arrow at end of edge
   | fromArrow(Figure f)           // arrow at begin of edge

   ;
</pre>
</div>

<div id="Description">
<span class="sectionHead">Description</span>  All figures may have an (optional) list of properties.
 <br/>
<br/>

 A property:
 <ul><li> is represented by the type <code>FProperty</code>,</li>
<li> has a standard value, unless it is explicitly defined for a figure,</li>
<li> describes a property of the figure in which it is declared, but</li>
<li> the standard value of each property may be redefined for all figures that are contained in a figure.</li>
</ul> Several properties have variants that act one or two dimensions. We call them <i>2D properties</i> and use the following naming scheme:
 <ul><li> <code>P(num xy)</code> sets the value for property <code>P</code> in both dimensions to the same value <code>xy</code>.</li>
<li> <code>P(num x, num y)</code> sets the value for property <code>P</code> to distinct values <code>x</code>, respectively, <code>y</code>.</li>
<li> <code>hP(num x)</code> sets the horizontal value for property <code>P</code> to <code>x</code>.</li>
<li> <code>vP(num y)</code> sets the vertical value for property <code>P</code> to <code>y</code>.</li>
</ul> The properties <code>width</code> and <code>height</code> are synonyms for <code>hsize</code>, respectively, <code>vsize</code>.
 <br/>
<br/>

 Most properties have typed arguments but they come in several versions:
  <ul><li> A version with an argument of type <code>int</code>, <code>real</code>, <code>num</code>, <code>str</code> or <code>Color</code>. The values of these arguments are computed when the property is constructed, i.e., when the Figure is constructed.</li>
<li> A version with <i>computed</i> argument like <code>computeInt</code>, <code>computeReal</code>, <code>computeNum</code>, <code>computeStr</code> or <code>computeColor</code>. These are functions that   return a value. These functions are called during the <i>rendering</i> of the figure to which this property is attached. In this way, properties
   can be changed.
</li>
</ul>
</div>

<div id="Examples">
<span class="sectionHead">Examples</span>  Just a few examples to show the spirit:
 <ul><li> <code>size(10, 20)</code> sets the <code>size</code> property to 10 (horizontally), respectively 20 (vertically).</li>
<li> <code>hsize(10)</code> sets the <code>hsize</code> property to the value 10.</li>
<li> <code>hsize(int(){return 10;})</code> sets the <code>hsize</code> property to the result of executing the argument function <code>int(){return 10;}</code> which is, indeed, not a big deal. This usage becomes more interesting when the argument function returns different values for each call.</li>
<li> <code>fillColor("blue")</code> sets the fill color of the current figure.</li>
<li> <code>std(fillColor("blue"))</code> sets the standard fill color for the current figure and for all of its children.</li>
</ul> See the more detailed description of each property for examples. 

</div>

<div id="Benefits">
<span class="sectionHead">Benefits</span>  <ul><li> Values of properties are defined by an <i>inheritance-like</i> approach: values can be nested and more nested declarations overrule more global ones. Default values can be set locally.</li>
</ul>
</div>

<div id="Pitfalls">
<span class="sectionHead">Pitfalls</span>  <ul><li> As described above, each argument of a property may be specified in various manners.    To avoid clutter, <b>we only show the simplest version</b>, but be aware that all versions are allowed.
</li>
<li> A figure may inherit an undesired value for a property; the solution is to redeclare that property locally with the desired value.</li>
</ul>
</div>

<div id="editMenu"><a id="tutorAction" href="Courses/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a>[<a id="editAction" href="/edit?concept=Rascal/Libraries/Vis/Figure/Properties&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Rascal/Libraries/Vis/Figure/Properties&new=true"><b>New</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal"><b>Compile Course</b></a>] |
               [<a id="warnAction" href="Courses/Rascal/warnings.html"><b>Warnings</b></a>]</div>

</body>
</html>