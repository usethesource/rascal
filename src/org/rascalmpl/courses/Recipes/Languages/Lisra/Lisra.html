<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Recipes/Languages/Lisra</title>

<meta name="description" content="Recipes/Languages/Lisra:  A lisp interpreter in Rascal.">

<meta name="keywords" content="Recipes/Languages/Lisra, Rascal, meta-programming, software analysis, software transformation">
<link type="text/css" rel="stylesheet" href="/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/jquery.autocomplete.css"/>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/jquery.cookie.js"></script>
<script type="text/javascript" src="/jquery.jstree.js"></script>
<script type="text/javascript" src="/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/jquery.history.js"></script>
<script type="text/javascript" src="/globals.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Recipes/course.js"></script>

</head>
<body>
<table id="container"><tr><td id="tdlogo"><a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a></td><td id="tdsearch">
<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/images/magnify.png">
    <input type="hidden" name="concept" value="Recipes/Languages/Lisra">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         </td></tr><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Recipes/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Recipes/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Recipes/Recipes.html">Recipes</a>/<a href="/Recipes/Languages/Languages.html">Languages</a>/<a href="/Recipes/Languages/Lisra/Lisra.html">Lisra</a>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  A lisp interpreter in Rascal.

</div>

	                       
                           
                           
                           
<div id="Details">
<span class="sectionHead">Details</span> <a href="/Recipes/Languages/Lisra/Runtime/Runtime.html">Runtime</a> &#032 <a href="/Recipes/Languages/Lisra/Eval/Eval.html">Eval</a> &#032 <a href="/Recipes/Languages/Lisra/Syntax/Syntax.html">Syntax</a> &#032 <a href="/Recipes/Languages/Lisra/Parse/Parse.html">Parse</a> &#032 <a href="/Recipes/Languages/Lisra/Pretty/Pretty.html">Pretty</a> &#032 <a href="/Recipes/Languages/Lisra/Console/Console.html">Console</a> &#032 <a href="/Recipes/Languages/Lisra/Test/Test.html">Test</a> &#032 
</div>

<div id="Description">
<span class="sectionHead">Description</span>  Writing a Lisp interpreter is a classical challenge. 
 Popular word has that all large applications evolve until they include a Lisp interpreter.
 (A variant says the same about including an email client in every large application).
 <br/>
<br/>

 We will closely follow and <b>reuse parts of</b> Peter Norvig's excellent page
 on <a href="http://norvig.com/lispy.html">Lispy<img src="/images/www-icon.png" with="20" height="20"></a>, a Lisp interpreter written in Python.
 The Lisp variant to be implemented is the following subset of the <a href="http://en.wikipedia.org/wiki/Scheme_(programming_language)">Scheme<img src="/images/www-icon.png" with="20" height="20"></a>
  language:
 <table border=1 cellspacing=0 cellpadding=3>
 <tr style="background-color:#EEEEEE"><th>Form</th><th width="23%">Syntax</th><th>Semantics and Example</th></tr>
   <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.1">variable reference</a></td>
   <td><i>var</i><td>A symbol is interpreted as a variable name;
   its value is the variable's
   value. <br>Example: <tt>x</tt></td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.2">constant literal</a></td>
   <td><i>number</i></td><td>A number 
   evaluates to itself. <br>Example: <tt>12</tt></td>
 </tr>
 <br/>
<br/>

 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.2">quotation</a></td>
   <td><tt>(quote </tt><i>exp</i><tt>)</td>
   <td>Return the <i>exp</i> literally; do not evaluate it. Example:
 	<tt>(quote (a b c)) &rArr; (a b c)</tt> </td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.5">conditional</a></td>
   <td><tt>(if</tt> <i>test conseq alt</i><tt>) </tt></td>
   <td>Evaluate <i>test</i>; if true,
   evaluate and return <i>conseq</i>; otherwise evaluate and return 
   <i>alt</i>. <br>Example: <tt>(if (&lt; 10 20) (+ 1 1) (+ 3 3)) &rArr; 2</tt></td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.6">assignment</a></td>
   <td><tt>(set!</tt> <i>var exp</i><tt>)</tt></td>
   <td>Evaluate <i>exp</i> and assign that value to
   <i>var</i>, which must have been previously defined (with a
   <tt>define</tt> or as a parameter to an enclosing procedure).
     <br>Example: <tt>(set! x2 (* x x))</tt></td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-8.html#%_sec_5.2">definition</a></td>
   <td><tt>(define</tt> <i>var</i> <i>exp</i><tt>)</tt></td>
   <td>Define a new variable in the innermost environment and give it
   the value of evaluating the expression <i>exp</i>. 
       <br>Examples: <tt>(define r 3)</tt> <i>or</i> <tt>(define square (lambda (x) (* x x)))</tt>.</td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.4">procedure</a></td>
   <td><tt>(lambda (</tt><i>var...</i><tt>)</tt>
   <i>exp</i><tt>)</tt><td>Create a procedure
   with parameter(s) named <i>var...</i> and the expression as the body. <br>Example: <tt>(lambda (r)
    (* r r))</tt></td>
 </tr>
 <tr><td align=center><a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.2.3">sequencing</a></td>
   <td><tt>(begin </tt><i>exp...</i><tt>)</tt></td>
   <td>
       Evaluate each of the expressions in left-to-right order, and
       return the final value.
       <br>Example: <tt>(begin (set! x 1) (set! x (+ x 1)) (* x 2))
       &rArr; 4</tt></td>
 </tr>
 <tr><td align=center>
    <a href="http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.1.3">procedure call</a></td>
   <td><tt>(</tt><i>proc exp...</i><tt>)</tt></td>
   <td>If <i>proc</i> is
    anything other than one of the symbols <tt>if, set!, define,
    lambda, begin,</tt> or <tt>quote</tt> then it is treated as a procedure.  It is
    evaluated using the same rules defined here. All the expressions
    are evaluated as well, and then the procedure is called with the list
    of expressions as arguments. Example: <tt>(square 12) &rArr; 144</tt></td>
 </tr>
 </table>
 <br/>
<br/>

 In this table, <i>var</i> must be a symbol--an identifier such as x or square--and number must be an integer number, 
 while the other italicized words can be any expression. The notation <i>exp</i>... means zero or more repetitions of <i>exp</i>.
 <br/>
<br/>

 A Lisp interpreter consists of the following parts:
 <ul><li> A <i>parser</i> that reads a Lisp program in text form and converts it to a runtime representation that is suitable for the interpreter.</li>
<li> The <i>interpreter</i> itself that executes the program in runtime representation and computes its outcome.</li>
<li> A <i>pretty printer</i> that converts the outcome in internal representation back to text.</li>
<li> Finally, an interactive  <i>console</i> is needed that interact with the user.</li>
</ul> We discuss all these aspects:
 <br/>
<br/>

 <ul><li><a href="/Recipes/Languages/Lisra/Runtime/Runtime.html">Runtime</a>: The runtime representation of Lisp programs and data.</li>
<li><a href="/Recipes/Languages/Lisra/Eval/Eval.html">Eval</a>: A Lisp interpreter.</li>
<li><a href="/Recipes/Languages/Lisra/Syntax/Syntax.html">Syntax</a>: The textual syntax of Lisp.</li>
<li><a href="/Recipes/Languages/Lisra/Parse/Parse.html">Parse</a>: Parsing a Lisp expression.</li>
<li><a href="/Recipes/Languages/Lisra/Pretty/Pretty.html">Pretty</a>: A Lisp pretty printer.</li>
<li><a href="/Recipes/Languages/Lisra/Console/Console.html">Console</a>: An interactive Lisp console.</li>
<li><a href="/Recipes/Languages/Lisra/Test/Test.html">Test</a>: Tests for the Lisp interpreter.</li>
</ul>
</div>

  	                       
  	                       
  	                       
  	                       
<a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Recipes/Languages/Lisra&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Recipes/Languages/Lisra&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Recipes"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Recipes/warnings.html"><b>Warnings</b></a>]</div>
<span class="editMenuFooter">Is this page unclear, or have you spotted an error? Please add a comment below and help us to improve it. For all other questions and remarks, visit <a href="http://ask.rascal-mpl.org">ask.rascal-mpl.org</a>. </span>
</div>
</td></tr></table>
</body>
</html>