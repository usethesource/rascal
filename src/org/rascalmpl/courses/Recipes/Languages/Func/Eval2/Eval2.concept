Name: Eval2

Synopsis:

Syntax:

Types:

Function:

Details:

Description:
Interpreter Eval2 supports the following features of Func: 


| Feature              | Eval2 |
|:---------------------|-------|
| function declaration | y     |
| integer constant     | y     |
| variable             | y     |
| arithmetic operators | y     |
| comparison operators | y     |
| call                 | y     |
| if                   | y     |
| let                  | y     |
| __sequence__         | y     |
| __assignment__       | y     |
| address operator     |       |
| dereference operator |       |



The main additions are local side effects and the sequence operator.

Examples:

<listing demo/lang/Func/Eval2.rsc>

* At /*1*/ the alias `Result` is introduced: a pair of an environment and an integer value.
  All evaluator functions are changed from returning an integer (the result of evaluation) to
  `Result` (the result of evaluation _and_ the local side effects).
* The effect of this change can be seen in all functions. For instance, when evaluating
  multiplication (/*2*/), the environment produced by the left operand ahs to be passed as 
  argument to the right operand of the multiplication. This is needed, to propagate any side effects
  caused by the left operand to propagate to the right one.
* Assignment is implemented at /*3*/.
* Sequencing is implemented at /*4*/. Observe that that the value of the left operand is ignored and that
  the value of the right operand is returned.


We apply `eval2` to example `F2`:
<listing demo/lang/Func/programs/F2.func>

Let's try this.
<screen>
import demo::lang::Func::Load;
import demo::lang::Func::Eval2;
import demo::lang::Func::programs::F2;
eval2("fact", [10], load(F2));
</screen>

Benefits:

Pitfalls:

Questions:

       
